<script setup lang="ts">
useHead({
  title: 'TrÃ² chÆ¡i GhÃ©p Váº§n',
})

const vowels = [
  'a',
  'Ã¡',
  'Ã ',
  'áº£',
  'Ã£',
  'áº¡',
  'Äƒ',
  'áº¯',
  'áº±',
  'áº³',
  'áºµ',
  'áº·',
  'Ã¢',
  'áº¥',
  'áº§',
  'áº©',
  'áº«',
  'áº­',
  'e',
  'Ã©',
  'Ã¨',
  'áº»',
  'áº½',
  'áº¹',
  'Ãª',
  'áº¿',
  'á»',
  'á»ƒ',
  'á»…',
  'á»‡',
  'i',
  'Ã­',
  'Ã¬',
  'á»‰',
  'Ä©',
  'á»‹',
  'o',
  'Ã³',
  'Ã²',
  'á»',
  'Ãµ',
  'á»',
  'Ã´',
  'á»‘',
  'á»“',
  'á»•',
  'á»—',
  'á»™',
  'Æ¡',
  'á»›',
  'á»',
  'á»Ÿ',
  'á»¡',
  'á»£',
  'u',
  'Ãº',
  'Ã¹',
  'á»§',
  'Å©',
  'á»¥',
  'Æ°',
  'á»©',
  'á»«',
  'á»­',
  'á»¯',
  'á»±',
  'y',
  'Ã½',
  'á»³',
  'á»·',
  'á»¹',
  'á»µ',
]

const consonants = [
  'b',
  'c',
  'd',
  'Ä‘',
  'g',
  'h',
  'k',
  'l',
  'm',
  'n',
  'p',
  'q',
  'r',
  's',
  't',
  'v',
  'x',
  'ch',
  'gh',
  'ng',
  'ngh',
  'nh',
  'ph',
  'th',
  'tr',
  'gi',
  'kh',
  'qu',
]

const selectedFirst = ref('')
const selectedSecond = ref('')

const syllable = computed(() => {
  if (selectedFirst.value && selectedSecond.value) {
    return selectedFirst.value + selectedSecond.value
  }
  return ''
})

function selectLetter(letter: string) {
  if (!selectedFirst.value) {
    selectedFirst.value = letter
  }
  else if (!selectedSecond.value) {
    selectedSecond.value = letter
  }
  else {
    // Reset náº¿u Ä‘Ã£ chá»n Ä‘á»§ 2 chá»¯
    selectedFirst.value = letter
    selectedSecond.value = ''
  }
}

function isSelected(letter: string) {
  return selectedFirst.value === letter || selectedSecond.value === letter
}
</script>

<template>
  <div class="min-h-screen bg-pink-100 p-4">
    <h1 class="text-3xl font-bold text-center text-pink-600 mb-4">
      ğŸ§© TrÃ² chÆ¡i GhÃ©p Váº§n
    </h1>

    <div class="text-center text-lg mb-4">
      BÃ© hÃ£y chá»n 2 chá»¯ cÃ¡i báº¥t ká»³ Ä‘á»ƒ ghÃ©p váº§n nhÃ©!
    </div>

    <div class="flex flex-col items-center gap-6">
      <!-- NguyÃªn Ã¢m -->
      <div class="w-full max-w-4xl">
        <h2 class="text-xl font-semibold text-pink-700 mb-2">
          NguyÃªn Ã¢m
        </h2>

        <div class="flex flex-wrap gap-2 mb-4">
          <button
            v-for="v in vowels"
            :key="`QURpZ${v}`"
            class="w-20 h-20 rounded-full text-3xl font-bold shadow flex items-center justify-center transition-all duration-200" :class="[
              isSelected(v)
                ? 'bg-yellow-300 scale-110 ring-4 ring-yellow-500'
                : 'bg-white border-2 border-pink-300 hover:bg-pink-200 active:scale-110 text-pink-600',
            ]"
            @click="selectLetter(v)"
          >
            {{ v }}
          </button>
        </div>
      </div>

      <!-- Phá»¥ Ã¢m -->
      <div class="w-full max-w-4xl">
        <h2 class="text-xl font-semibold text-blue-700 mb-2">
          Phá»¥ Ã¢m
        </h2>

        <div class="flex flex-wrap gap-2 mb-4">
          <button
            v-for="c in consonants"
            :key="`zqCSB${c}`"
            class="w-20 h-20 rounded-full text-3xl font-bold shadow flex items-center justify-center transition-all duration-200" :class="[
              isSelected(c)
                ? 'bg-yellow-300 scale-110 ring-4 ring-yellow-500'
                : 'bg-white border-2 border-blue-300 hover:bg-blue-200 active:scale-110 text-blue-600',
            ]"
            @click="selectLetter(c)"
          >
            {{ c }}
          </button>
        </div>
      </div>

      <!-- Káº¿t quáº£ cá»‘ Ä‘á»‹nh dÆ°á»›i mÃ n hÃ¬nh -->
      <div
        v-if="syllable"
        class="fixed bottom-0 left-0 right-0 mb-4 mx-auto w-full max-w-md bg-white/90 backdrop-blur-md rounded-2xl shadow-lg p-4 text-center z-50"
      >
        <div class="text-xl text-green-700 font-bold mb-1">
          ğŸ‰ BÃ© Ä‘Ã£ ghÃ©p Ä‘Æ°á»£c:
        </div>
        <div class="text-5xl text-red-500 font-bold">
          {{ syllable }}
        </div>
        <div class="flex justify-center gap-4 mt-4">
          <button
            class="bg-gray-300 hover:bg-gray-400 text-gray-800 rounded-full px-6 py-2 text-lg font-semibold shadow"
            @click="selectedFirst = ''; selectedSecond = ''"
          >
            ğŸ”„ Chá»n láº¡i
          </button>
        </div>
      </div>
    </div>
  </div>
</template>

<style scoped>
button:focus {
  outline: none;
}
</style>
